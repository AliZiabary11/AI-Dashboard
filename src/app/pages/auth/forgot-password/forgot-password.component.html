<h3 class="display-5 text-center">Forgot password</h3>
<p-steps
  pStyleClass=".steps"
  [model]="stepsItem"
  [activeIndex]="forgotPassStep - 1"
></p-steps>
<!-- Forgot Pass Step One -->
<form [formGroup]="forgotPassForm">
  <div *ngIf="forgotPassStep == 1">
    <p class="text-muted m-4 text-center">please enter your email</p>
    <!-- user name -->
    <div class="row">
      <div class="col-2 text-center">
        <i
          class="pi pi-envelope pt-2"
          style="color: 'var(--teal-400)'; font-size: 2.5rem"
        ></i>
      </div>
      <div class="col-10">
        <hp-textbox
          ngDefaultControl
          [className]="'w-100'"
          [id]="'email'"
          placeholder="ایمیل"
          formControlName="email"
        ></hp-textbox>
        <!-- Validate errors -->
        <div
          *ngIf="email?.invalid && (email?.dirty || email?.touched)"
          class="text-danger"
        >
          <p *ngIf="email?.errors?.['required']">email can't be empty</p>
          <p *ngIf="email?.errors?.['email']">
            email is not in correct form
          </p>
        </div>
      </div>
    </div>
    <div class="text-center">
      <hp-button
        [label]="'ادامه'"
        [icon]="btnForgotPassIcon"
        [isLoading]="isLoading"
        (onClick)="confirmForgotStepOne()"
      ></hp-button>
    </div>
  </div>

  <!-- Forgot Pass Step Two -->
  <div *ngIf="forgotPassStep == 2">
    <p class="text-muted m-4 text-center">please enter otp.</p>
    <div class="row">
      <div class="col-2 text-center">
        <i
          class="pi pi-key pt-2"
          style="color: 'var(--teal-400)'; font-size: 2.5rem"
        ></i>
      </div>
      <div class="col-10">
        <hp-textbox
          ngDefaultControl
          [className]="'w-100'"
          [id]="'oneTimeCode'"
          placeholder="one time password"
          formControlName="oneTimeCode"
        ></hp-textbox>
        <!-- Validate errors -->
        <div
          *ngIf="
            oneTimeCode?.invalid && (oneTimeCode?.dirty || oneTimeCode?.touched)
          "
          class="text-danger"
        >
          <p *ngIf="oneTimeCode?.errors?.['required']">
            otp can't be empty.
          </p>
        </div>
      </div>
    </div>
    <div class="text-center">
      <hp-button
        [label]="'continue'"
        [icon]="btnForgotPassIcon"
        [isLoading]="isLoading"
        (onClick)="confirmForgotStepTwo()"
      ></hp-button>
    </div>
  </div>

  <!-- Forgot Pass Step Three -->
  <div *ngIf="forgotPassStep == 3">
    <p class="text-muted m-4 text-center">please enter your new password</p>

    <div class="row">
      <div class="col-2 text-center">
        <i
          class="pi pi-key pt-2"
          style="color: 'var(--teal-400)'; font-size: 2.5rem"
        ></i>
      </div>
      <div class="col-10">
        <hp-textbox
          ngDefaultControl
          [className]="'w-100'"
          [id]="'newPass'"
          placeholder="new password"
          [type]="passVisible ? 'text' : 'password'"
          formControlName="newPass"
        ></hp-textbox>
        <!-- Validate errors -->
        <div
          *ngIf="newPass?.invalid && (newPass?.dirty || newPass?.touched)"
          class="text-danger"
        >
          <p *ngIf="newPass?.errors?.['required']">
            new pass can't be empty
          </p>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-2 text-center">
        <i
          class="pi pi-key pt-2"
          style="color: 'var(--teal-400)'; font-size: 2.5rem"
        ></i>
      </div>
      <div class="col-10">
        <hp-textbox
          ngDefaultControl
          [className]="'w-100'"
          [id]="'newPassConfirm'"
          placeholder="repeat password"
          [type]="passVisible ? 'text' : 'password'"
          formControlName="newPassConfirm"
        ></hp-textbox>
        <!-- Validate errors -->
        <div
          *ngIf="
            newPassConfirm?.invalid &&
            (newPassConfirm?.dirty || newPassConfirm?.touched)
          "
          class="text-danger"
        >
          <p *ngIf="newPassConfirm?.errors?.['required']">
            repeat password and password are not the same.
          </p>
        </div>
      </div>
    </div>
    <!-- Show Pass -->
    <div class="my-3">
      <input
        class="form-check-input"
        type="checkbox"
        style="height: 20px; width: 20px"
        (click)="showPass()"
      />
      <label class="form-check-label mx-3"> show password</label>
    </div>
    <div class="text-center">
      <hp-button
        [label]="'save'"
        [icon]="btnForgotPassIcon"
        [isLoading]="isLoading"
        (onClick)="confirmForgotStepThree()"
      ></hp-button>
    </div>
  </div>
</form>
